<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Document</title>
<style>
svg {background: pink;}
</style>
</head>
<body>
<div class="plot"></div>
<script src="d3.min.js"></script>  
<script>

var data = [
  {month: new Date(2015, 0, 1), apples: 3840, bananas: 1920, cherries: 960, dates: 400},
  {month: new Date(2015, 1, 1), apples: 1600, bananas: 1440, cherries: 960, dates: 400},
  {month: new Date(2015, 2, 1), apples:  640, bananas:  960, cherries: 640, dates: 400},
  {month: new Date(2015, 3, 1), apples:  320, bananas:  480, cherries: 640, dates: 400}
];

var stack = d3.stack()
    .keys(["apples", "bananas", "cherries", "dates"])
    .order(d3.stackOrderNone)
    .offset(d3.stackOffsetNone);

var series = stack(data);

console.log(series)

const plot = d3.select(".plot")
  .append("svg")
  .attr("width",400)
  .attr("height",400);
  
// update: bind
const nodesUpdate = plot.selectAll('.node')
  .data(data);

// enter: append
const nodesEnter = nodesUpdate.enter()
  .append("rect")
  .attr("class","node")

// enter and update: attr
nodesUpdate.merge(nodesEnter)
  

// exit: remove
const nodesExit = nodesUpdate.exit()
  .remove();

  



</script>  
</body>
</html>