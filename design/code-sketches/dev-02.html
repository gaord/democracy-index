<!DOCTYPE html>
<html lang="en">
<head>
<style>
.plot {margin: 2em; width: 600px; height: 400px; background-color: #eee;}
</style>
<meta charset="UTF-8">
<title>Document</title>
</head>
<body>
<div class="plot"></div>
<script src="d3.min.js"></script>  
<script>

const dom = d3.select(".plot")
const w = dom.node().clientWidth;
const h = dom.node().clientHeight;

const plot = dom.append("svg")
  .attr("width",w)
  .attr("height",h);

const data = [
  {x: 1, y: 1},
  {x: 2, y: 2},
  {x: 3, y: 3},
  {x: 4, y: 4},
  {x: 5, y: 5}
];

draw(plot,data);


function draw(dom, data){

  var scaleX = d3.scaleLinear()
    .domain([0, 10])
    .range([0, w]);
    
  var scaleY = d3.scaleLinear()
    .domain([0, 10])
    .range([0, h]);

	// Update
	const nodesUpdate = plot.selectAll('.node')
		.data(data, function(d){ return d.id });
		
	// Enter
	const nodesEnter = nodesUpdate.enter()
    .append("circle")
    .attr("class","node")
		// append
		
	// Enter and Update
	nodesUpdate.merge(nodesEnter)
    .attr("cx",d=>scaleX(d.x))
    .attr("cy",d=>scaleY(d.y))
    .attr("r",40)
    .attr("fill","red")
    .attr("opacity",0.5)
		// attr
		
	// Exit
	const nodesExit = nodesUpdate.exit()
		.remove();
}

</script>  
</body>
</html>